# Secret template for Keycloak
# This file is processed by GitHub Actions to generate encrypted secrets
# Required GitHub Secrets:
# - KEYCLOAK_PROD_DB_PASSWORD
# - KEYCLOAK_PROD_ADMIN_PASSWORD
# - MATTERMOST_PROD_OAUTH_CLIENT_SECRET
# - NEXTCLOUD_PROD_OIDC_CLIENT_SECRET
# - MAILU_PROD_OAUTH2_CLIENT_SECRET
apiVersion: v1
kind: Secret
metadata:
    name: keycloak-pg-app
    namespace: keycloak
type: kubernetes.io/basic-auth
stringData:
    username: ENC[AES256_GCM,data:cbVpMY5xRBs=,iv:7GIJs3w7jSpKyttn9XfmrV7ElDqWiXJb4VhH4hk0m4w=,tag:HRF0mqZzqEMJsKA9VuQuGQ==,type:str]
    password: ENC[AES256_GCM,data:mJPgO25hbrI0++oFyzVmbqCHzU737R5Qrlgb1vVEmxk=,iv:+esqF+VieaaBZzEyoZKvXYGi0ond3VX4G5gpjV7OWh8=,tag:XeM10RLU4UOCNp0CW6gFNQ==,type:str]
sops:
    age:
        - recipient: age1thmew4k45xq7gxll0c8tva297lvyweqmyyqw432ghlqqxgsv24dsx6lye6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBHOTdocXNjNnhEQ0dTTERC
            MUpYY1Q1aExaRjN5R1V6T01UOUFOOUlPcFNFCnk5SWYzenozS2R1K1U1aWRhVXgw
            SFpyZmFmS2pSNVBGMml4T2xIaUdVSEEKLS0tIHQ3ZE9RMU9ESG5YeXVQbzNwVjhH
            aWhaYXlyRUZOSFZ6RW1KRlFuUzkzWncKPbsV/Vpkd8V+TlX5UUFXBFyr9NaXBn9t
            ZJOrfU/q7AfDzCqWd/p1NGpPL8kiYCLytuuefY4tZeV5An2w8K4hsw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-11T19:39:38Z"
    mac: ENC[AES256_GCM,data:5CsoJYKqNMhM6Dm9Y99JBmBj1qZ1W6GfExRk2oL/Bwd/8GlvmJIgPP2oy4utg/1AKOMulyq3uFkYVIFL4kvQQOOveXTw+ivYZVdcy8LZeTagIbQR1LTDSFLl0IM5mni0+fb9Aj6RsT8YrXYGiUayhErib9VEoiD+MOirm/UkQwE=,iv:kU4RfWDL6f0oJucpipoBFfsHnGCul/jV6Hrt08eIsrM=,tag:akrsGRvM8TKcoponCLIL8A==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    name: keycloak-admin
    namespace: keycloak
type: Opaque
stringData:
    password: ENC[AES256_GCM,data:D4vBGry2gGk5tao4WU1n/QLwd3bFiwP8dKc7p7sVHvk=,iv:vcMfwNFL41UF+UUlfbmVwbnDy+/KHLWcAPLlBB8MrjA=,tag:xLxwHROYwCF9BI10zmQylA==,type:str]
sops:
    age:
        - recipient: age1thmew4k45xq7gxll0c8tva297lvyweqmyyqw432ghlqqxgsv24dsx6lye6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBHOTdocXNjNnhEQ0dTTERC
            MUpYY1Q1aExaRjN5R1V6T01UOUFOOUlPcFNFCnk5SWYzenozS2R1K1U1aWRhVXgw
            SFpyZmFmS2pSNVBGMml4T2xIaUdVSEEKLS0tIHQ3ZE9RMU9ESG5YeXVQbzNwVjhH
            aWhaYXlyRUZOSFZ6RW1KRlFuUzkzWncKPbsV/Vpkd8V+TlX5UUFXBFyr9NaXBn9t
            ZJOrfU/q7AfDzCqWd/p1NGpPL8kiYCLytuuefY4tZeV5An2w8K4hsw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-11T19:39:38Z"
    mac: ENC[AES256_GCM,data:5CsoJYKqNMhM6Dm9Y99JBmBj1qZ1W6GfExRk2oL/Bwd/8GlvmJIgPP2oy4utg/1AKOMulyq3uFkYVIFL4kvQQOOveXTw+ivYZVdcy8LZeTagIbQR1LTDSFLl0IM5mni0+fb9Aj6RsT8YrXYGiUayhErib9VEoiD+MOirm/UkQwE=,iv:kU4RfWDL6f0oJucpipoBFfsHnGCul/jV6Hrt08eIsrM=,tag:akrsGRvM8TKcoponCLIL8A==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
