# Secret template for Mattermost
# This file is processed by GitHub Actions to generate encrypted secrets
# Required GitHub Secrets:
# - MATTERMOST_PROD_DB_PASSWORD
# - MATTERMOST_PROD_OAUTH_CLIENT_ID
# - MATTERMOST_PROD_OAUTH_CLIENT_SECRET

apiVersion: v1
kind: Secret
metadata:
  name: mattermost-pg-app
  namespace: mattermost
type: kubernetes.io/basic-auth
stringData:
  username: mattermost
  password: "{{ .Env.MATTERMOST_DB_PASSWORD }}"
---
apiVersion: v1
kind: Secret
metadata:
  name: mattermost-oauth
  namespace: mattermost
type: Opaque
stringData:
  client-id: "{{ .Env.MATTERMOST_OAUTH_CLIENT_ID }}"
  client-secret: "{{ .Env.MATTERMOST_OAUTH_CLIENT_SECRET }}"