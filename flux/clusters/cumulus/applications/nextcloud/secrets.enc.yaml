# Secret template for Nextcloud
# This file is processed by GitHub Actions to generate encrypted secrets
# Required GitHub Secrets:
# - NEXTCLOUD_PROD_DB_PASSWORD
# - NEXTCLOUD_PROD_OIDC_CLIENT_ID
# - NEXTCLOUD_PROD_OIDC_CLIENT_SECRET
# - NEXTCLOUD_PROD_SPACES_ACCESS_KEY
# - NEXTCLOUD_PROD_SPACES_SECRET_KEY
apiVersion: v1
kind: Secret
metadata:
    name: nextcloud-pg-app
    namespace: nextcloud
type: kubernetes.io/basic-auth
stringData:
    username: ENC[AES256_GCM,data:XZp5NUDamxt+,iv:q2jCM4jcb72Fe1kmSHvirrqFwIrrBLlAHq8nZymAjpU=,tag:aPTrJpRud57Mg9nCHF6/EA==,type:str]
    password: ENC[AES256_GCM,data:Gu+W5GyoOvzDY15s5nrSuMaWU5Utcvgr5iaPSulwNgw=,iv:BWeeHWqMW8DQgSHa+UwGRGN62/3SCnr57aV/AgS16eo=,tag:9x3hRm9b8DAQtzE7UTKkqw==,type:str]
sops:
    age:
        - recipient: age1thmew4k45xq7gxll0c8tva297lvyweqmyyqw432ghlqqxgsv24dsx6lye6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBPdnk4a2dSVkRidVFaNmtw
            QklpelJjb0l5NUZxcEhqU1oyZDA0WkFPZmp3Ci9OK2pDeWMxZGpLMGpxR2xsMmEz
            UzU2QVVJRzBNVkNPMTcxaGFCbHdPOFUKLS0tIE9FU1lYV1BCYkZOWVc3eHBwcm1Y
            WmtUbCtoczdLQlhJV0lPb0RGQnJGOVUKcQ8rbOkBV0Cklfucnp6g8SSxdBSONlYH
            kWrbODr8wfTbX8CcExUCcb6yjRuCA7dCBkxkShFYs4lTgKz5nl8h5w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:50:56Z"
    mac: ENC[AES256_GCM,data:pk6JoCqEjKDZMfsEAnOGPp9hbZDPm2vMtfu6Fg8N259OiPaEe8DU8F6tU4IxVi6NN8epRsa1CJLoz6NinYLSz6XVMGWJfvRW4RT8xG+uh/KDsFPU+krxp1LDSj+GXU4Rf7KvM8DMMZUYjOK/c0M0h5bo4Yf1jd+R9xcpNhwwqoE=,iv:25R7dkXwerB8nb0E/GAnY0QVbb6Dxee9EHp/GOoOxT0=,tag:zONFXsEz22uApFbkjqXpvQ==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    name: nextcloud-oidc
    namespace: nextcloud
type: Opaque
stringData:
    client-id: ENC[AES256_GCM,data:dtNlwAslS8WRGtGQPXGQNLdg2OSnNObPMHh0,iv:aWEihffohcjLsnt51HzkVrdQC0D1yseTBHo/W+Gqo54=,tag:qwpgjJ34olLSPFgitYpP0g==,type:str]
    client-secret: ENC[AES256_GCM,data:lbm51JaQGIcwar0Q9vHemPaVMc8kqZ38MazQIT5nKA/9iR03TisjkXt1AUcczjnr,iv:7TOpG8mz9q1IDLCmg5bYB4usESXFEhs+ziXH5wJfe1U=,tag:KH2lLAoXV57sB81K6VQ7Cw==,type:str]
sops:
    age:
        - recipient: age1thmew4k45xq7gxll0c8tva297lvyweqmyyqw432ghlqqxgsv24dsx6lye6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBPdnk4a2dSVkRidVFaNmtw
            QklpelJjb0l5NUZxcEhqU1oyZDA0WkFPZmp3Ci9OK2pDeWMxZGpLMGpxR2xsMmEz
            UzU2QVVJRzBNVkNPMTcxaGFCbHdPOFUKLS0tIE9FU1lYV1BCYkZOWVc3eHBwcm1Y
            WmtUbCtoczdLQlhJV0lPb0RGQnJGOVUKcQ8rbOkBV0Cklfucnp6g8SSxdBSONlYH
            kWrbODr8wfTbX8CcExUCcb6yjRuCA7dCBkxkShFYs4lTgKz5nl8h5w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:50:56Z"
    mac: ENC[AES256_GCM,data:pk6JoCqEjKDZMfsEAnOGPp9hbZDPm2vMtfu6Fg8N259OiPaEe8DU8F6tU4IxVi6NN8epRsa1CJLoz6NinYLSz6XVMGWJfvRW4RT8xG+uh/KDsFPU+krxp1LDSj+GXU4Rf7KvM8DMMZUYjOK/c0M0h5bo4Yf1jd+R9xcpNhwwqoE=,iv:25R7dkXwerB8nb0E/GAnY0QVbb6Dxee9EHp/GOoOxT0=,tag:zONFXsEz22uApFbkjqXpvQ==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    name: nextcloud-spaces
    namespace: nextcloud
type: Opaque
stringData:
    access-key: ENC[AES256_GCM,data:Wf7VH5p7JnjnUuv28s9r6t99/2Y=,iv:AKk8oy0b3QZikZLr3vtNbiiC0YS/xRXBEdiLtk8ior0=,tag:Vm+UzqQ/IgTrw4XFx5NA/w==,type:str]
    secret-key: ENC[AES256_GCM,data:aVsKT3OPNusiFFdABQr7AXJMN6MRFR7s/zeKDWmVcFqhADGYPyM=,iv:OFTGtUDrSNRT5MVDQbGq+Ba0AVu7MggsQ/O52Pgwswk=,tag:hZhC9Z3ZWIq0X9pSOJgPiQ==,type:str]
sops:
    age:
        - recipient: age1thmew4k45xq7gxll0c8tva297lvyweqmyyqw432ghlqqxgsv24dsx6lye6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBPdnk4a2dSVkRidVFaNmtw
            QklpelJjb0l5NUZxcEhqU1oyZDA0WkFPZmp3Ci9OK2pDeWMxZGpLMGpxR2xsMmEz
            UzU2QVVJRzBNVkNPMTcxaGFCbHdPOFUKLS0tIE9FU1lYV1BCYkZOWVc3eHBwcm1Y
            WmtUbCtoczdLQlhJV0lPb0RGQnJGOVUKcQ8rbOkBV0Cklfucnp6g8SSxdBSONlYH
            kWrbODr8wfTbX8CcExUCcb6yjRuCA7dCBkxkShFYs4lTgKz5nl8h5w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:50:56Z"
    mac: ENC[AES256_GCM,data:pk6JoCqEjKDZMfsEAnOGPp9hbZDPm2vMtfu6Fg8N259OiPaEe8DU8F6tU4IxVi6NN8epRsa1CJLoz6NinYLSz6XVMGWJfvRW4RT8xG+uh/KDsFPU+krxp1LDSj+GXU4Rf7KvM8DMMZUYjOK/c0M0h5bo4Yf1jd+R9xcpNhwwqoE=,iv:25R7dkXwerB8nb0E/GAnY0QVbb6Dxee9EHp/GOoOxT0=,tag:zONFXsEz22uApFbkjqXpvQ==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
