# Secret template for Nextcloud
# This file is processed by GitHub Actions to generate encrypted secrets
# Required GitHub Secrets:
# - NEXTCLOUD_PROD_DB_PASSWORD
# - NEXTCLOUD_PROD_OIDC_CLIENT_ID
# - NEXTCLOUD_PROD_OIDC_CLIENT_SECRET
# - NEXTCLOUD_PROD_SPACES_ACCESS_KEY
# - NEXTCLOUD_PROD_SPACES_SECRET_KEY
apiVersion: v1
kind: Secret
metadata:
    name: nextcloud-pg-app
    namespace: nextcloud
type: kubernetes.io/basic-auth
stringData:
    username: ENC[AES256_GCM,data:5ohNrplUOoOw,iv:npz+mkF6jJ7ca3Jjwrljw124kn6sQ4lhnb9bN0/DZ4E=,tag:wBxOk0BDfEidaQriO6WfRA==,type:str]
    password: ENC[AES256_GCM,data:aXj6zfAIFTf2N4Top1bbjisRyMzyUwno2jNm+Y6FoHI=,iv:IzATH/ZtERn4PV9w/l0Rb7bLfSCRJF92FeKYgk6KkXs=,tag:xppleTLgCBr6oJj6mDTipw==,type:str]
sops:
    age:
        - recipient: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWMS9PbjhBRzVBeVBYaHpK
            L09Ja1huS1l1eWJLamwvQXc2SCtRWCtQZG1JCjBCblg2VHJ0MEJZcmVObVFRQlB5
            dEd6UVlOTUIxT09vZ0hTdm92UEU4d3cKLS0tIDkzd1JHYUlrdEVUM0hrRGhoWFBJ
            KzNHWHo5THNBRnFsVFdJYmtsVHovTkkKnU+FR0PZe10coWRMiSarmTW1GaZ3+teY
            UHFAW2CRFxzpZAMERbT+VqI2N9vrUqC9HDH4R14uB64znT9nHvgATg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:27:28Z"
    mac: ENC[AES256_GCM,data:7fQsqTNHiA3esxJqNqFGy+KFogRfV+bnz9Aj7quLnLy8MtTeDDOch32FFU3QzcanKt+I5cc0PhKWKX4XuMG9cl79U6pp4EnrfDtZHA/LmaXQnAauI8ZVyTjTYThK5i9y3OYuDVgwZ4BMD9KBu0rNwGwpTSLVWUv2qKwatwBl6Z8=,iv:oNU7Wn+5soMa4uqjJLk5syfYugOzshAd1Dx5Sd991vs=,tag:kGILfoZLlnKgKYqiAhtxMg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    name: nextcloud-oidc
    namespace: nextcloud
type: Opaque
stringData:
    client-id: ENC[AES256_GCM,data:BKobzmEj7koRQjA/vv/Wm/Gz5ALFDcLFqqRz,iv:o8uR3T++mzwymT36zYdkbtXSPhF23EkFymaKfB2pkmk=,tag:yDtTBM++cy812cUhK4SlMQ==,type:str]
    client-secret: ENC[AES256_GCM,data:+twKZB/94W2eeKV9VoBdNMlWcgm3uMyz/bgJZ7GbX5PvnU8Qygrn1uWxQQmrSpk+,iv:HJgQ6HcNzu/7JMPsT5dJ0ozYdN7x9dipSwLrPuxom2w=,tag:Y8i7dlEsPcGjXoAsUk1KQA==,type:str]
sops:
    age:
        - recipient: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWMS9PbjhBRzVBeVBYaHpK
            L09Ja1huS1l1eWJLamwvQXc2SCtRWCtQZG1JCjBCblg2VHJ0MEJZcmVObVFRQlB5
            dEd6UVlOTUIxT09vZ0hTdm92UEU4d3cKLS0tIDkzd1JHYUlrdEVUM0hrRGhoWFBJ
            KzNHWHo5THNBRnFsVFdJYmtsVHovTkkKnU+FR0PZe10coWRMiSarmTW1GaZ3+teY
            UHFAW2CRFxzpZAMERbT+VqI2N9vrUqC9HDH4R14uB64znT9nHvgATg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:27:28Z"
    mac: ENC[AES256_GCM,data:7fQsqTNHiA3esxJqNqFGy+KFogRfV+bnz9Aj7quLnLy8MtTeDDOch32FFU3QzcanKt+I5cc0PhKWKX4XuMG9cl79U6pp4EnrfDtZHA/LmaXQnAauI8ZVyTjTYThK5i9y3OYuDVgwZ4BMD9KBu0rNwGwpTSLVWUv2qKwatwBl6Z8=,iv:oNU7Wn+5soMa4uqjJLk5syfYugOzshAd1Dx5Sd991vs=,tag:kGILfoZLlnKgKYqiAhtxMg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    name: nextcloud-spaces
    namespace: nextcloud
type: Opaque
stringData:
    access-key: ENC[AES256_GCM,data:qrZJe0VjdODrusOFVuHQwLlpvzg=,iv:fGhK3IieBXjx4qKOWr6ztslZ4TqqC9os8oafuHQSBBo=,tag:f6yZx6U5u4nLgf6D6jp/Kg==,type:str]
    secret-key: ENC[AES256_GCM,data:0rjkIBqcg8kgSTJtA0g+EH3EttGSegZwD4z1/f6n9x4atqsCf94=,iv:YykkGLMOBOmZgJ03aYcZk3EaCdmqw3SO6OKPfnauDXI=,tag:i7nWnh7HKWrTnfd7Hf3wPw==,type:str]
sops:
    age:
        - recipient: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWMS9PbjhBRzVBeVBYaHpK
            L09Ja1huS1l1eWJLamwvQXc2SCtRWCtQZG1JCjBCblg2VHJ0MEJZcmVObVFRQlB5
            dEd6UVlOTUIxT09vZ0hTdm92UEU4d3cKLS0tIDkzd1JHYUlrdEVUM0hrRGhoWFBJ
            KzNHWHo5THNBRnFsVFdJYmtsVHovTkkKnU+FR0PZe10coWRMiSarmTW1GaZ3+teY
            UHFAW2CRFxzpZAMERbT+VqI2N9vrUqC9HDH4R14uB64znT9nHvgATg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:27:28Z"
    mac: ENC[AES256_GCM,data:7fQsqTNHiA3esxJqNqFGy+KFogRfV+bnz9Aj7quLnLy8MtTeDDOch32FFU3QzcanKt+I5cc0PhKWKX4XuMG9cl79U6pp4EnrfDtZHA/LmaXQnAauI8ZVyTjTYThK5i9y3OYuDVgwZ4BMD9KBu0rNwGwpTSLVWUv2qKwatwBl6Z8=,iv:oNU7Wn+5soMa4uqjJLk5syfYugOzshAd1Dx5Sd991vs=,tag:kGILfoZLlnKgKYqiAhtxMg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
