# Secret template for Keycloak
# This file is processed by GitHub Actions to generate encrypted secrets
# Required GitHub Secrets:
# - KEYCLOAK_PROD_DB_PASSWORD
# - KEYCLOAK_PROD_ADMIN_PASSWORD
# - MATTERMOST_PROD_OAUTH_CLIENT_SECRET
# - NEXTCLOUD_PROD_OIDC_CLIENT_SECRET
# - MAILU_PROD_OAUTH2_CLIENT_SECRET

apiVersion: v1
kind: Secret
metadata:
  name: keycloak-pg-app
  namespace: keycloak
type: kubernetes.io/basic-auth
stringData:
  username: keycloak
  password: "{{ .Env.KEYCLOAK_DB_PASSWORD }}"
---
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-admin
  namespace: keycloak
type: Opaque
stringData:
  password: "{{ .Env.KEYCLOAK_ADMIN_PASSWORD }}"