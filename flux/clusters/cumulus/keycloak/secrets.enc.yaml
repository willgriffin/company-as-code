# Secret template for Keycloak
# This file is processed by GitHub Actions to generate encrypted secrets
# Required GitHub Secrets:
# - KEYCLOAK_PROD_DB_PASSWORD
# - KEYCLOAK_PROD_ADMIN_PASSWORD
# - MATTERMOST_PROD_OAUTH_CLIENT_SECRET
# - NEXTCLOUD_PROD_OIDC_CLIENT_SECRET
# - MAILU_PROD_OAUTH2_CLIENT_SECRET
apiVersion: v1
kind: Secret
metadata:
    name: keycloak-pg-app
    namespace: keycloak
type: kubernetes.io/basic-auth
stringData:
    username: ENC[AES256_GCM,data:xl2Zdlj2qmI=,iv:LmzVGD052rUErs3Wg3BdP9ujsYHOPj4YZOiNjb1s3oA=,tag:pGJSEVHM+kk0O8AwRPRihQ==,type:str]
    password: ENC[AES256_GCM,data:IwPZ8rjkUVPmwMMC55blatgcZUBLflYnZn9FjM80uh8=,iv:I5czZIr4AS77mjGvEOiwI4Wx9Qg/yns4KRViWZfcvDk=,tag:IUkigZZjFdOkinR47ChtSA==,type:str]
sops:
    age:
        - recipient: age1thmew4k45xq7gxll0c8tva297lvyweqmyyqw432ghlqqxgsv24dsx6lye6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBVckdCKzgyZUpxTXk0MkNI
            eWlnV0xZM2tnTGxDTVkwcEtUZ3JYVUl6dzJVCkJtcGNScStxUGxtY3FScTBqRktp
            anVmNlFibXRYRDNjL1d0TjFWcHZ6eGsKLS0tIGgyQ1dJZCtpRy9kQnAxLy91VDA0
            S1F4TmxQWmpqdWU5MEoxMTZTaC9JWmMKG4h5GsyzUEYxYYWeF+FWY2KhdGLoqS4H
            7U0vhmbyXHBSd0GaNk/uCDzEkyg/nvoulQvNkf5qjC33ug0ewVCpuA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:50:55Z"
    mac: ENC[AES256_GCM,data:hBLpbIIZcGZvvsP9TESbl+nr5gfXNArhaU8QvJYqikbhH8aqUgU19onYLvk2/7gmFiuzhcjAB5dHDCruvagooRVuGaskplZ+VA638orPK+sHG9Kq7IRtoIcyutt7lyuOj0jo5FOF9uFrUbnWYagYx4qikUZ3iiS6mZMrFIRUjHM=,iv:ypk3p8JhL/GLiQS+RvDQn2f485Tiid+O+LAa3kPaWcY=,tag:8IOWqFs+GlDfGQ4mycD5Mg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    name: keycloak-admin
    namespace: keycloak
type: Opaque
stringData:
    password: ENC[AES256_GCM,data:Lf5RkbIu6eT6K4ZWGp43196kzmy3sraz9Ir5hc0Z5VZUFQ==,iv:jsVy3ZKMMIMc4loEXzB0Uc7EMBVgkEwSOlM+aYm9+LU=,tag:Hb8krnrVG3WWyes5IIajeQ==,type:str]
sops:
    age:
        - recipient: age1thmew4k45xq7gxll0c8tva297lvyweqmyyqw432ghlqqxgsv24dsx6lye6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBVckdCKzgyZUpxTXk0MkNI
            eWlnV0xZM2tnTGxDTVkwcEtUZ3JYVUl6dzJVCkJtcGNScStxUGxtY3FScTBqRktp
            anVmNlFibXRYRDNjL1d0TjFWcHZ6eGsKLS0tIGgyQ1dJZCtpRy9kQnAxLy91VDA0
            S1F4TmxQWmpqdWU5MEoxMTZTaC9JWmMKG4h5GsyzUEYxYYWeF+FWY2KhdGLoqS4H
            7U0vhmbyXHBSd0GaNk/uCDzEkyg/nvoulQvNkf5qjC33ug0ewVCpuA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:50:55Z"
    mac: ENC[AES256_GCM,data:hBLpbIIZcGZvvsP9TESbl+nr5gfXNArhaU8QvJYqikbhH8aqUgU19onYLvk2/7gmFiuzhcjAB5dHDCruvagooRVuGaskplZ+VA638orPK+sHG9Kq7IRtoIcyutt7lyuOj0jo5FOF9uFrUbnWYagYx4qikUZ3iiS6mZMrFIRUjHM=,iv:ypk3p8JhL/GLiQS+RvDQn2f485Tiid+O+LAa3kPaWcY=,tag:8IOWqFs+GlDfGQ4mycD5Mg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
