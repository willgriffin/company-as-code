# Secret template for Keycloak
# This file is processed by GitHub Actions to generate encrypted secrets
# Required GitHub Secrets:
# - KEYCLOAK_PROD_DB_PASSWORD
# - KEYCLOAK_PROD_ADMIN_PASSWORD
# - MATTERMOST_PROD_OAUTH_CLIENT_SECRET
# - NEXTCLOUD_PROD_OIDC_CLIENT_SECRET
# - MAILU_PROD_OAUTH2_CLIENT_SECRET
apiVersion: v1
kind: Secret
metadata:
    name: keycloak-pg-app
    namespace: keycloak
type: kubernetes.io/basic-auth
stringData:
    username: ENC[AES256_GCM,data:ujDxQmX1+50=,iv:Xb1kc2qOP66B7iJo/DFWPg8SvOTre3IzUOicsu6btFI=,tag:/J+byA6P3eFtHi0F/6tLOQ==,type:str]
    password: ENC[AES256_GCM,data:emeGkq+FWQxuoletSmV03vbE9m0CTAa5BB5rVsCY5RE=,iv:n1wv+HzvyRfPDAun99rfIrMIucMKFYu+TpD00Qun12Y=,tag:P6MoSknvtvnQMeuG1FQKKw==,type:str]
sops:
    age:
        - recipient: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzVUNXNEt0TUhZdUdaYjFr
            SUJzK0lQOTM0VU9Fbm95cSt2Q0htZTV2NFNzCkdUNHpJRkk1alFYUnBrZkRiUHFo
            RmQvU0QycGxJN0ZDWERqbzBEYmNYeFUKLS0tIHFGZWRBSU9pUHB0NkZsQXBROXBU
            RCt3bGhKTldac2xraUtuZ00vZzRNVmcKXlsUX0jR1l5AGtl76erlAvhCVmGZOq50
            4XVMXJxN+zJJ1FeIbUM7CkCEWySLvtH36PW9ilctq0zudU0t//iXjA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:27:28Z"
    mac: ENC[AES256_GCM,data:VAXwNZ/zJwrsRLRN24LrqksM492G5qKfBWmJMJTaYxSO7nlKHZUq0h0DClmGMslOgTiwxNpbfphIdaAOF/ndWMUeLOZ4ROHHfPrW2o5gj+m2fqgzCej3eqA2X7UvmeuHuWw7y3TnrhobtPR6kJUta2yGGsQmqAXh7JG7Ndk5Vjw=,iv:DDY0pjy+dr67h58VqxaiQOis2X2rKTDsd4KUiyGFGEg=,tag:k0fwZXYPwC1M9b1tWNi24A==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    name: keycloak-admin
    namespace: keycloak
type: Opaque
stringData:
    password: ENC[AES256_GCM,data:DCRyuSkgvqgt2brcrKpVHNis22TFzwdhYB20+OAujfMkzg==,iv:vlYO1qV242bizm27I0IcF9DinH5h1p84+Bv08+6S8Ig=,tag:aWAh+7BhhSEdm6OrqtuEYw==,type:str]
sops:
    age:
        - recipient: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzVUNXNEt0TUhZdUdaYjFr
            SUJzK0lQOTM0VU9Fbm95cSt2Q0htZTV2NFNzCkdUNHpJRkk1alFYUnBrZkRiUHFo
            RmQvU0QycGxJN0ZDWERqbzBEYmNYeFUKLS0tIHFGZWRBSU9pUHB0NkZsQXBROXBU
            RCt3bGhKTldac2xraUtuZ00vZzRNVmcKXlsUX0jR1l5AGtl76erlAvhCVmGZOq50
            4XVMXJxN+zJJ1FeIbUM7CkCEWySLvtH36PW9ilctq0zudU0t//iXjA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-06-04T14:27:28Z"
    mac: ENC[AES256_GCM,data:VAXwNZ/zJwrsRLRN24LrqksM492G5qKfBWmJMJTaYxSO7nlKHZUq0h0DClmGMslOgTiwxNpbfphIdaAOF/ndWMUeLOZ4ROHHfPrW2o5gj+m2fqgzCej3eqA2X7UvmeuHuWw7y3TnrhobtPR6kJUta2yGGsQmqAXh7JG7Ndk5Vjw=,iv:DDY0pjy+dr67h58VqxaiQOis2X2rKTDsd4KUiyGFGEg=,tag:k0fwZXYPwC1M9b1tWNi24A==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
